{"ast":null,"code":"var _jsxFileName = \"/home/son/Documents/reactjs-api/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Router_website from './router';\nimport axios from 'axios';\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const response = await axios.get('http://localhost:3001/categories');\n        setCategories(response.data);\n        localStorage.setItem('categories', JSON.stringify(response.data));\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    getCategories();\n\n    const getProducts = async () => {\n      try {\n        const response = await axios.get('http://localhost:3001/products?_sort=id&_order=desc');\n        setProducts(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    getProducts();\n\n    const getCart = async () => {\n      try {\n        const response = await axios.get('http://localhost:3001/cart?_sort=id&_order=desc');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n  }, []);\n\n  const onHandleRemove = id => {\n    const newArr = products.filter(product => product.id != id);\n    setProducts(newArr);\n  };\n\n  const onHandleRemoveCategory = id => {\n    const newArr = categories.filter(cate => cate.id != id);\n    setCategories(newArr);\n  };\n\n  return /*#__PURE__*/React.createElement(Router_website, {\n    data: products,\n    onRemove: onHandleRemove,\n    categories: categories,\n    onRemoveCategory: onHandleRemoveCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default App;","map":{"version":3,"sources":["/home/son/Documents/reactjs-api/src/App.js"],"names":["React","useState","useEffect","Router_website","axios","App","products","setProducts","categories","setCategories","getCategories","response","get","data","localStorage","setItem","JSON","stringify","error","console","getProducts","getCart","log","onHandleRemove","id","newArr","filter","product","onHandleRemoveCategory","cate"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,cAAP,MAA2B,UAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAAEC,QAAF,EAAWC,WAAX,IAA2BN,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAAEO,UAAF,EAAaC,aAAb,IAA+BR,QAAQ,CAAC,EAAD,CAA7C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,aAAa,GAAG,YAAW;AAC/B,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,kCAAV,CAAvB;AACAH,QAAAA,aAAa,CAACE,QAAQ,CAACE,IAAV,CAAb;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACE,IAAxB,CAAnC;AACD,OAJD,CAIE,OAAOK,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,KARD;;AASAR,IAAAA,aAAa;;AAEb,UAAMU,WAAW,GAAG,YAAW;AAC7B,UAAI;AACF,cAAMT,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,qDAAV,CAAvB;AACAL,QAAAA,WAAW,CAACI,QAAQ,CAACE,IAAV,CAAX;AACD,OAHD,CAGE,OAAOK,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,KAPD;;AAQAE,IAAAA,WAAW;;AAEX,UAAMC,OAAO,GAAG,YAAW;AACzB,UAAI;AACF,cAAMV,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,iDAAV,CAAvB;AACD,OAFD,CAEE,OAAOM,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACG,GAAR,CAAYJ,KAAZ;AACD;AACF,KAND;AAOD,GA7BQ,EA6BN,EA7BM,CAAT;;AA+BA,QAAMK,cAAc,GAAIC,EAAD,IAAQ;AAC7B,UAAMC,MAAM,GAAGnB,QAAQ,CAACoB,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACH,EAAR,IAAcA,EAAzC,CAAf;AACAjB,IAAAA,WAAW,CAACkB,MAAD,CAAX;AACD,GAHD;;AAKA,QAAMG,sBAAsB,GAAIJ,EAAD,IAAQ;AACrC,UAAMC,MAAM,GAAGjB,UAAU,CAACkB,MAAX,CAAkBG,IAAI,IAAIA,IAAI,CAACL,EAAL,IAAWA,EAArC,CAAf;AACAf,IAAAA,aAAa,CAACgB,MAAD,CAAb;AACD,GAHD;;AAIA,sBACE,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAEnB,QAAtB;AAAgC,IAAA,QAAQ,EAAEiB,cAA1C;AAA0D,IAAA,UAAU,EAAEf,UAAtE;AAAkF,IAAA,gBAAgB,EAAEoB,sBAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAGD,CA/CD;;AAiDA,eAAevB,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Router_website from './router';\nimport axios from 'axios';\n\nconst App = () => {\n  const [ products,setProducts ] = useState([]); \n  const [ categories,setCategories ] = useState([]); \n\n  useEffect(() => {\n    const getCategories = async() => {\n      try {\n        const response = await axios.get('http://localhost:3001/categories');\n        setCategories(response.data);\n        localStorage.setItem('categories', JSON.stringify(response.data));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    getCategories();\n    \n    const getProducts = async() => {\n      try {\n        const response = await axios.get('http://localhost:3001/products?_sort=id&_order=desc');\n        setProducts(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    getProducts();\n\n    const getCart = async() => {\n      try {\n        const response = await axios.get('http://localhost:3001/cart?_sort=id&_order=desc');\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, []);\n\n  const onHandleRemove = (id) => {\n    const newArr = products.filter(product => product.id != id);\n    setProducts(newArr);\n  }\n\n  const onHandleRemoveCategory = (id) => {\n    const newArr = categories.filter(cate => cate.id != id);\n    setCategories(newArr);\n  }\n  return (\n    <Router_website data={products} onRemove={onHandleRemove} categories={categories} onRemoveCategory={onHandleRemoveCategory} />\n  );\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}