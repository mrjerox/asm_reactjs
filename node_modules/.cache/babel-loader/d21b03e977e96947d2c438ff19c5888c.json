{"ast":null,"code":"var _jsxFileName = \"/home/son/Documents/reactjs-api/src/components/Admin/Products/Add_product.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Admin_layout from '../../../pages/admin_layout';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport { storage } from '../../../firebase';\n\nconst Add_product = ({\n  data\n}) => {\n  const [img, setImg] = useState();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n\n  const onSubmit = async newData => {\n    console.log(newData.image[0]); // const response = await axios.post('http://localhost:3001/products', {\n    // \tid: 22 + data.length,\n    // \tname: newData.name,\n    // \timage: newData.image,\n    // \tprice: newData.price,\n    // \tdesc: newData.desc\n    // });\n    // window.location = \"/admin/products\";\n  };\n\n  const onUploadImg = event => {\n    console.log(event.target.files[0].name);\n    storage.ref(`images/${event.target.files[0].name}`.put(event.target.files[0]));\n  };\n\n  const section = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"addForm\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 18\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"name\",\n    ref: register({\n      required: true,\n      minLength: 5\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 18\n    }\n  }), errors.name && errors.name.type === \"required\" && /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 69\n    }\n  }, \"Ban chua nhap gia tri\"), errors.name && errors.name.type === \"minLength\" && /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 70\n    }\n  }, \"It nhat co 5 ky tu\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 18\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control\",\n    name: \"image\",\n    ref: register({\n      required: true\n    }),\n    onChange: onUploadImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 18\n    }\n  }), errors.image && errors.image.type === \"required\" && /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 71\n    }\n  }, \"Ban chua nhap gia tri\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 18\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    name: \"price\",\n    ref: register({\n      required: true,\n      min: 1\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 18\n    }\n  }), errors.price && errors.price.type === \"required\" && /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 71\n    }\n  }, \"Chua nhap gia\"), errors.price && errors.price.type === \"min\" && /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 66\n    }\n  }, \"Gia nho nhat bang 1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 18\n    }\n  }, \"Desc\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"desc\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 18\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-3 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 14\n    }\n  })));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Admin_layout, {\n    section: section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }));\n};\n\nexport default Add_product;","map":{"version":3,"sources":["/home/son/Documents/reactjs-api/src/components/Admin/Products/Add_product.js"],"names":["React","useState","useEffect","Link","Admin_layout","useForm","axios","storage","Add_product","data","img","setImg","register","handleSubmit","watch","errors","onSubmit","newData","console","log","image","onUploadImg","event","target","files","name","ref","put","section","required","minLength","type","min","price"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport Admin_layout from '../../../pages/admin_layout';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport { storage } from '../../../firebase'\n\nconst Add_product = ({ data }) => {\n\tconst [ img, setImg] = useState();\n\tconst { register, handleSubmit, watch, errors } = useForm();\n\tconst onSubmit = async(newData) => {\n\t\tconsole.log(newData.image[0]);\n\t\t// const response = await axios.post('http://localhost:3001/products', {\n\t\t// \tid: 22 + data.length,\n\t\t// \tname: newData.name,\n\t\t// \timage: newData.image,\n\t\t// \tprice: newData.price,\n\t\t// \tdesc: newData.desc\n\t\t// });\n\t\t// window.location = \"/admin/products\";\n\t}\n\n\tconst onUploadImg = (event) => {\n\t\tconsole.log(event.target.files[0].name);\n\t\tstorage.ref(`images/${event.target.files[0].name}`.put(event.target.files[0]))\n\t}\n\n\tconst section = <>\n\t\t\t\t\t\t<form id=\"addForm\" onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t        <div className=\"row\">\n\t\t\t\t\t        \t<div className=\"col-6\">\n\t\t\t\t\t        \t\t<div className=\"form-group m-2\">\n\t\t\t\t\t\t\t          <label>Name</label>\n\t\t\t\t\t\t\t          <input type=\"text\" className=\"form-control\" name=\"name\" ref={register({ required: true, minLength: 5})} />\n\t\t\t\t\t\t\t          {errors.name && errors.name.type === \"required\" && <label className=\"text-danger\">Ban chua nhap gia tri</label>}\n\t\t\t\t\t\t\t          {errors.name && errors.name.type === \"minLength\" && <label className=\"text-danger\">It nhat co 5 ky tu</label>}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t        <div className=\"form-group m-2\">\n\t\t\t\t\t\t\t          <label>Image</label>\n\t\t\t\t\t\t\t          <input type=\"file\" className=\"form-control\" name=\"image\" ref={register({ required: true})} onChange={onUploadImg} />\n\t\t\t\t\t\t\t          {errors.image && errors.image.type === \"required\" && <label className=\"text-danger\">Ban chua nhap gia tri</label>}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t        \t</div>\n\t\t\t\t\t\t        <div className=\"col-6\">\n\t\t\t\t\t\t        \t<div className=\"form-group m-2\">\n\t\t\t\t\t\t\t          <label>Price</label>\n\t\t\t\t\t\t\t          <input type=\"number\" className=\"form-control\" name=\"price\" ref={register({ required: true, min: 1})} />\n\t\t\t\t\t\t\t          {errors.price && errors.price.type === \"required\" && <label className=\"text-danger\">Chua nhap gia</label>}\n\t\t\t\t\t\t\t          {errors.price && errors.price.type === \"min\" && <label className=\"text-danger\">Gia nho nhat bang 1</label>}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t        <div className=\"form-group m-2\">\n\t\t\t\t\t\t\t          <label>Desc</label>\n\t\t\t\t\t\t\t          <input type=\"text\" className=\"form-control\" name=\"desc\" ref={register} />\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        <div className=\"form-group col-3 ml-2\">\n\t\t\t\t\t\t        \t<button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div>\n\n\t\t\t\t\t        </div>\n\t\t\t\t\t    </form>\n\t\t\t\t\t</>\n\treturn (\n\t\t<div>\n\t\t\t<Admin_layout section={section} />\n\t\t</div>\n\t)\n}\n\nexport default Add_product"]},"metadata":{},"sourceType":"module"}